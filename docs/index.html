<!DOCTYPE html>
<html lang="en">
<head>
    <title>Eric_余浩的博客</title>
    <meta charset="UTF-8">
    <!-- 隐藏 http 请求 heard 中 referrer 的信息 -->
    <meta name="referrer" content="no-referrer"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="description" content="Description">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <link rel="icon" href="images/favicon.png">
    <link rel="stylesheet" href="//unpkg.com/docsify/lib/themes/vue.css" title="vue">
    <link rel="stylesheet" href="//unpkg.com/docsify/lib/themes/dark.css" title="dark" disabled>
    <!-- 修改默认样式 -->
    <style type="text/css">
        a {
            text-decoration:none;
        }
        img {
        	border-radius: 5px;
        }

        /*剪切板、代码块样式修改*/
        .docsify-copy-code-button,.markdown-section pre {
        	border-radius: 6px !important;
        }
        /*主页 目录按钮样式修改*/
        .markdown-section p.warn {
        	border-radius: 5px !important;
        }
		/*图片解析样式*/
        .image-package {
    		padding-bottom: 25px;
    		text-align: center;
		}
		.image-package .image-caption {
    		min-width: 20%;
    		max-width: 80%;
    		min-height: 22px;
    		display: inline-block;
    		padding: 0px 10px 10px 10px;
    		margin: 0 auto;
    		border-bottom: 1px solid #d9d9d9;
    		font-size: 14px;
    		color: #969696;
    		line-height: 1.7;
		}
    </style>
</head>
<body>

<!-- 自定义导航栏 -->
<nav>
    <a href="#/">首页</a>
	<a class="theme-preview" data-theme="vue">浅色</a>
	<a class="theme-preview" data-theme="dark">深色</a>
</nav>


<div id="app">加载中...</div>
<script>
    // 配置 docsify 对象
    window.$docsify = {
        name: 'Eric_余浩的博客',
        repo: 'https://github.com/yuhaowin',
        // 配置顶部导航栏
        // loadNavbar: 'navbar.md',
        // 侧边栏
        // loadSidebar: 'summary.md',
        coverpage: 'coverpage.md',
        maxLevel: 5,
        auto2top: true,
        homepage: '/main.md',

        // 剪切板文案
        copyCode: {
            buttonText: '点击复制',
            errorText: '复制失败',
            successText: '复制成功'
        },

        // 搜索配置参数
        search: {
            maxAge: 86400000, // 过期时间，单位毫秒，默认一天
            paths: ['/main.md'], // or 'auto'
            placeholder: '搜索',
            noData: '无结果!',
            // 搜索标题的最大程级, 1 - 6
            depth: 3
        },

        // 配置图片解析规则
        markdown: {
            smartypants: true,
            renderer: {
                image: function(href,title,text){
                	if(typeof text == "undefined" || text == null || text == ""){
                		text = '图例';
                	}
					var imageDom = `
						<div class="image-package">
							<p><img src='${href}'/></p>
							<div class="image-caption">${text}</div>
						</div>`
                	return imageDom;
            	}
          	}
        }
    }

    // 更换主题
    var btns = document.querySelectorAll('.theme-preview')
    var themes = document.querySelectorAll('[rel="stylesheet"]');
    var curdate = new Date();
    var curhour = curdate.getHours();

    // 当前时间小于早上6点或者大于晚上6点启用深色模式
    if (curhour < 6 || curhour >= 18) {
        var title = 'dark';
        themes.forEach(function (theme) {
            var flag = (theme.title !== title);
            theme.disabled = flag;
        });
    }

    // 手动更改主题
    btns.forEach(function (btn){
        btn.onclick = function (e) {
            var title = e.target.getAttribute('data-theme')
            themes.forEach(function (theme) {
                var flag = (theme.title !== title);
                theme.disabled = flag;
            });
        };
    })
</script>
<script src="//unpkg.com/docsify/lib/docsify.min.js"></script>
<script src="//unpkg.com/docsify/lib/plugins/search.js"></script>
<script src="//unpkg.com/docsify-copy-code"></script>
<script src="//unpkg.com/prismjs/components/prism-java.min.js"></script>
<script src="//unpkg.com/prismjs/components/prism-bash.min.js"></script>
<script src="//unpkg.com/prismjs/components/prism-sql.min.js"></script>
</body>
</html>
