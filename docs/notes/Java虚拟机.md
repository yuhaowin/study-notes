?> 更新中

#### JAVA 的垃圾回收♻️机制

在 JAVA 的世界里，对不再使用的对象的销毁，不需要我们特别的关注，一切都由 JVM 代替我们处理，以至于很长时间，我根本不了解 JAVA 的垃圾回收♻️机制。但是这不代表垃圾回收不重要，相反当你知道的东西越多后，越能体会它的重要。

##### 什么是垃圾回收？
+ 垃圾回收（GC）就是对释放垃圾占用的内存空间，防止越来越多的垃圾造成的[内存泄露](https://www.cnblogs.com/panxuejun/p/5883044.html)；对内存堆中已经死亡的、长期没有被使用的对象进行清理的过程。

#### 什么是垃圾（垃圾的定义）？
**喝完**饮料的饮料罐是垃圾， **吃完**外卖的外卖盒是垃圾，在 JAVA 中也有一些类似 **喝完**、 **吃完**的指标表示该对象是否被认为是垃圾，需要被回收。

+ 引用计数法

>引用计数算法（Reachability Counting）是通过在对象头中分配一个空间来保存该对象被引用的次数（Reference Count）。如果该对象被其它对象引用，则它的引用计数加1，如果删除对该对象的引用，那么它的引用计数就减1，当该对象的引用计数为0时，那么该对象就会被回收。

String m = new String("jack");

先创建一个字符串，这时候"jack"有一个引用，就是 m。

然后将 m 设置为 null，这时候"jack"的引用次数就等于0了，在引用计数算法中，意味着这块内容就需要被回收了。

但是JVM并没有采用这种回收机制，因为引用计数法，会存在由于相互引用导致无法回收的情况。

1. 定义2个对象
2. 相互引用
3. 置空各自的声明引用

+ 可达性分析法

> 可达性分析算法（Reachability Analysis）的基本思路是，通过一些被称为引用链（GC Roots）的对象作为起点，从这些节点开始向下搜索，搜索走过的路径被称为（Reference Chain)，当一个对象到 GC Roots 没有任何引用链相连时（即从 GC Roots 节点到该节点不可达），则证明该对象是不可用的。

通过可达性算法，成功解决了引用计数所无法解决的问题-“循环依赖”，只要你无法与 GC Root 建立直接或间接的连接，系统就会判定你为可回收对象。那这样就引申出了另一个问题，哪些属于 GC Root。


##### 怎么进行垃圾回收. 




https://www.jianshu.com/p/c6a4aa09f530
